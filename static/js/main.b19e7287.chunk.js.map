{"version":3,"sources":["components/forceGraph.module.css","components/utils.js","components/ForceLayout.js","dataUtils.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","createContextMenu","d","menuItems","width","height","svgId","x","y","data","d3","styles","contextMenu","remove","append","attr","selectAll","enter","menuEntry","style","console","log","i","on","action","text","title","menuFactory","pageX","pageY","preventDefault","ForceLayout","nodeHoverTooltip","ref","useRef","useEffect","draw","containerRect","current","getBoundingClientRect","links","map","Object","assign","nodes","drag","simulation","active","alphaTarget","restart","fx","fy","document","querySelector","tooltipDiv","createElement","classList","add","tooltip","opacity","id","body","appendChild","div","force","strength","svg","link","join","Math","sqrt","value","node","type","call","label","product","properties","getClass","icon","hoverTooltip","transition","duration","html","addTooltip","source","target","className","container","nodeFactory","convertedToNode","name","rId","pvg","propValGroup","sc","selectionCondition","ic","internalCondition","linkGenerator","soureceId","dataset","App","useState","setData","url","setUrl","onChange","e","onClick","axios","get","then","res","cool","rawData","productNode","push","parameters","findParameters","parameterId","ruleId","ruleNode","rules","ruleLink","processProductData","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.b19e7287.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"forceGraph_container__2Fpro\",\"product\":\"forceGraph_product__f1U8b\",\"properties\":\"forceGraph_properties__1xT-0\",\"node\":\"forceGraph_node__3azZm\",\"tooltip\":\"forceGraph_tooltip__24MRW\",\"contextMenu\":\"forceGraph_contextMenu__jf9Zf\",\"menuEntry\":\"forceGraph_menuEntry__2lL43\"};","import * as d3 from \"d3\";\r\n\r\nimport styles from \"./forceGraph.module.css\";\r\n\r\nexport const menuFactory = (x, y, menuItems, data, svgId) => {\r\n    // alert(x);\r\n    // alert(y);\r\n    d3.select(`.${styles.contextMenu}`).remove();\r\n\r\n    // Draw the menu\r\n    d3.select(svgId)\r\n        .append('g').attr('class', styles.contextMenu)\r\n        .selectAll('tmp')\r\n        .data(menuItems).enter()\r\n        .append('g').attr('class', styles.menuEntry)\r\n        .style({'cursor': 'pointer'});\r\n    console.log(`styles.menuEntry - ${styles.menuEntry}`)\r\n    // Draw menu entries\r\n    d3.selectAll(`.${styles.menuEntry}`)\r\n        .append('rect')\r\n        .attr('x', x)\r\n        .attr('y', (d, i) => { return y + (i * 30); })\r\n        .attr('rx', 2)\r\n        .attr('width', 150)\r\n        .attr('height', 30)\r\n        .on('click', (d) => { d.action(data) });\r\n\r\n    d3.selectAll(`.${styles.menuEntry}`)\r\n        .append('text')\r\n        .text((d) => { return d.title; })\r\n        .attr('x', x)\r\n        .attr('y', (d, i) => { return y + (i * 30); })\r\n        .attr('dy', 20)\r\n        .attr('dx', 45)\r\n        .on('click', (d) => { d.action(data) });\r\n\r\n    // Other interactions\r\n    d3.select('body')\r\n        .on('click', () => {\r\n            d3.select(`.${styles.contextMenu}`).remove();\r\n        });\r\n}\r\n\r\nexport const createContextMenu = (d, menuItems, width, height, svgId) => {\r\n    \r\n    menuFactory(d3.event.pageX - width / 2, d3.event.pageY - height / 1.5, menuItems, d, svgId);\r\n    d3.event.preventDefault();\r\n}\r\n","import * as d3 from 'd3';\nimport React, { useRef, useEffect } from 'react';\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport {createContextMenu} from \"./utils\";\n// import  \"./ForecLayout.css\";\nimport styles from \"./forceGraph.module.css\";\nimport { style } from 'd3';\n// import { style } from 'd3';\nfunction ForceLayout({data, nodeHoverTooltip}){\n    const ref = useRef();\n    \n    useEffect(() => {\n        \n    }, []);\n    useEffect(()=>{\n        draw();\n    },[data]);\n    const draw = ()=>{\n        d3.selectAll('svg').remove();\n        console.log(\"DRAW METHOD\", data)\n        const containerRect = ref.current.getBoundingClientRect();\n        const height = containerRect.height;\n        const width = containerRect.width;\n        const links = data.links.map((d) => Object.assign({}, d));\n        const nodes = data.nodes.map((d) => Object.assign({}, d));\n        \n        console.log(\"DRAW METHOD LINKS\", links)\n        console.log(\"DRAW METHOD NODES\", nodes)\n        const menuItems = [\n            {\n              title: 'First action',\n              action: (d) => {\n                // TODO: add any action you want to perform\n                console.log(d);\n              }\n            },\n            {\n              title: 'Second action',\n              action: (d) => {\n                // TODO: add any action you want to perform\n                console.log(d);\n              }\n            }\n          ];\n        \n\n        console.log(\"height - \",height)\n\n        const color = (d) => {\n            switch(d.type){\n                case 'product':\n                    return \"#00AE7D\";\n                case 'parameter':\n                    return \"#ED8A3F\";\n                case 'rule':\n                    return \"#2ab7ca\";\n                default:\n                    return \"#00C1D4\";\n            } \n            return \"#00C1D4\"; \n        };\n\n        const icon = (d) => {\n            switch (d.type){\n                case 'product':\n                    return \"\\uf187\";\n                case 'parameter':\n                    return \"\\uf013\";\n                case 'rule':\n                    return \"\\uf121\";\n                default:\n                    return \"\\uf515\";\n            }\n            \n        }\n\n        const getClass = (d) => {\n            return d.type === \"product\" ? styles.product : styles.properties;\n        };\n        const drag = (simulation) => {\n            const dragstarted = (d) => {\n              if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n              d.fx = d.x;\n              d.fy = d.y;\n            };\n        \n            const dragged = (d) => {\n              d.fx = d3.event.x;\n              d.fy = d3.event.y;\n            };\n        \n            const dragended = (d) => {\n              if (!d3.event.active) simulation.alphaTarget(0);\n              d.fx = null;\n              d.fy = null;\n            };\n        \n            return d3\n              .drag()\n              .on(\"start\", dragstarted)\n              .on(\"drag\", dragged)\n              .on(\"end\", dragended);\n          };\n\n          const tooltip = document.querySelector(\"#graph-tooltip\");\n          if (!tooltip) {\n              const tooltipDiv = document.createElement(\"div\");\n              tooltipDiv.classList.add(styles.tooltip);\n              tooltipDiv.style.opacity = \"0\";\n              tooltipDiv.id = \"graph-tooltip\";\n              document.body.appendChild(tooltipDiv);\n          }\n        const div = d3.select(\"#graph-tooltip\");\n\n        const addTooltip = (hoverTooltip, d, x, y) => {\n            console.log(\"X\",x);\n            console.log(\"Y\",y);\n            div\n            .transition()\n            .duration(200)\n            .style(\"opacity\", 0.9);\n            div\n            .html(hoverTooltip(d))\n            .style(\"left\", `${x}px`)\n            .style(\"top\", `${y - 28}px`);\n        };\n\n        const removeTooltip = () => {\n            div\n            .transition()\n            .duration(200)\n            .style(\"opacity\", 0);\n        };\n\n        const simulation = d3\n            .forceSimulation(nodes)\n            .force(\"link\", d3.forceLink(links).id(d => d.id))\n            .force(\"charge\", d3.forceManyBody().strength(-150))\n            .force(\"x\", d3.forceX())\n            .force(\"y\", d3.forceY());\n  \n        const svg = d3\n            .select(ref.current)\n            .append(\"svg\")\n            .attr(\"id\", \"graphSvg\")\n            .attr(\"viewBox\", [-width / 2, -height / 2, width, height])\n            // .call(d3.zoom().on(\"zoom\", function () {\n            //   svg.attr(\"transform\", d3.event.transform);\n            // }));\n\n        const link = svg\n            .append(\"g\")\n            .attr(\"stroke\", \"#999\")\n            .attr(\"stroke-opacity\", 0.6)\n            .selectAll(\"line\")\n            .data(links)\n            .join(\"line\")\n            .attr(\"stroke-width\", d => Math.sqrt(d.value));\n\n        const node = svg\n            .append(\"g\")\n            .attr(\"stroke\", \"#cccccc\")\n            .attr(\"stroke-width\", 2)\n            .selectAll(\"circle\")\n            .data(nodes)\n            .join(\"circle\")\n            .on('contextmenu', (d) => {\n            createContextMenu(d, menuItems, width, height, '#graphSvg');\n            })\n            .attr(\"r\", 15)\n            .attr(\"fill\", color)\n            .call(drag(simulation));\n\n        const label = svg.append(\"g\")\n            .attr(\"class\", \"labels\")\n            .selectAll(\"text\")\n            .data(nodes)\n            .enter()\n            .append(\"text\")\n            .on('contextmenu', (d) => {\n            createContextMenu(d, menuItems, width, height, '#graphSvg');\n            })\n            .attr('text-anchor', 'middle')\n            .attr('dominant-baseline', 'central')\n            .attr(\"class\", d => `fa ${getClass(d)}`)\n            .text(d => {return icon(d);})\n            .call(drag(simulation));\n\n    label.on(\"mouseover\", (d) => {\n        console.log(\"pageX\",d3.event.pageX);\n        console.log(\"pageY\",d3.event.pageY);\n        addTooltip(nodeHoverTooltip, d, d3.event.pageX, d3.event.pageY);\n    })\n    .on(\"mouseout\", () => {\n      removeTooltip();\n    });\n\n  simulation.on(\"tick\", () => {\n    //update link positions\n    link\n      .attr(\"x1\", d => d.source.x)\n      .attr(\"y1\", d => d.source.y)\n      .attr(\"x2\", d => d.target.x)\n      .attr(\"y2\", d => d.target.y);\n\n    // update node positions\n    node\n      .attr(\"cx\", d => d.x)\n      .attr(\"cy\", d => d.y);\n\n    // update label positions\n    label\n      .attr(\"x\", d => { return d.x; })\n      .attr(\"y\", d => { return d.y; })\n  });\n}    // end of draw method\n    return(\n        <div className=\"chart\">\n            <div ref={ref} className={styles.container} >\n            </div>\n        </div>\n    )\n}\nexport default ForceLayout;","export default function processProductData(rawData){\n console.log(\"RAW DATA\", rawData);\n let nodes = [];\n let links = [];\n let productNode = {\n     id: rawData.data.product.id,\n     name: rawData.data.product.name,\n     type: 'product'\n };\n nodes.push(productNode);\n let parameters = findParameters(rawData);\n for(let parameterId in parameters){\n     console.log(`Njan enthu thettu cheythu ${parameterId}`)\n     let node = nodeFactory(parameters[parameterId],parameterId,'parameter');\n     let link = linkGenerator(rawData.data.product.id, node)\n     for( let ruleId of node.rId ){\n         let ruleNode = nodeFactory(rawData.data.rules[ruleId],ruleId,'rule');\n         console.log('ruleNode', ruleNode);\n         let ruleLink = linkGenerator(node.id, ruleNode)\n         nodes.push(ruleNode)\n         links.push(ruleLink);\n     }\n     nodes.push(node);\n     links.push(link);\n\n }\n console.log(\"parameters\",parameters)\n return {'nodes':nodes, 'links':links}//rawData.data.product;\n}\nfunction findParameters(rawData){\n    return rawData.data.parameters\n}\nfunction findRulesForParamters(rawData, ruleId){\n    return rawData.rules[ruleId];\n}\nfunction nodeFactory(data, id, type){\n    const convertedToNode = {}\n    console.log('TYPE-EEEE', data.name)\n    if(type === 'parameter'){\n        convertedToNode.id = id;\n        convertedToNode.name = data.name;\n        convertedToNode.type = type;\n        convertedToNode.rId = data.rId;\n    } else if(type==='rule'){\n        convertedToNode.id = id;\n        convertedToNode.pvg = data.propValGroup;\n        convertedToNode.sc = data.selectionCondition;\n        convertedToNode.ic = data.internalCondition;\n        convertedToNode.name = data.action;\n        convertedToNode.type = type;\n    }\n    return convertedToNode;\n}\nfunction linkGenerator(soureceId, data){\n    return {'source':soureceId, 'target':data.id}\n}","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport ForceLayout from './components/ForceLayout';\nimport processProductData from './dataUtils';\n\nconst dataset = {\n  \"nodes\": [\n    {\"id\": 1, \"name\": \"Gen 2 Life\",\"type\": \"product\"},\n    {\"id\": 2, \"name\": \"Betty\", \"type\": \"parameter\"},\n    {\"id\": 3, \"name\": \"Cate\", \"type\": \"parameter\"},\n    {\"id\": 4, \"name\": \"Dave\", \"type\": \"parameter\"},\n    {\"id\": 5,\"name\": \"Ellen\",\"type\": \"rule\"},\n    { \"id\": 6, \"name\": \"Fiona\", \"type\": \"rule\"},\n    {\"id\": 7,\"name\": \"Garry\",\"type\": \"rule\"},\n    {\"id\": 8,\"name\": \"Holly\",\"type\": \"rule\"},\n    {\"id\": 9,\"name\": \"Iris\",\"type\": \"rule\"},\n    {\"id\": 10,\"name\": \"Jane\",\"type\": \"rule\"}\n  ],\n  \"links\": [\n    {\"source\": 1,\"target\": 2},\n    {\"source\": 1,\"target\": 3},\n    {\"source\": 1,\"target\": 4},\n    {\"source\": 2,\"target\": 5},\n    {\"source\": 2,\"target\": 6},\n    {\"source\": 3,\"target\": 7},\n    {\"source\": 3,\"target\": 8},\n    {\"source\": 4,\"target\": 9},\n    {\"source\": 4,\"target\": 10}\n  ]\n};\n\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const [url, setUrl] = useState('');\n  const [height, setHeight] = useState(300);\n\n\tuseEffect(() => {\n    // console.log('Use Effect in App', window.innerWidth);\n    // window.addEventListener('resize', updateWindowDimensions);\n    // const url = 'https://www.otiscreate.com/api/iaaData?languageCode=en-us&productid=22&shareUid=null&mode=null';\n    \n    setData(dataset);\n    \n\t}, []);\n  \n  \n  const nodeHoverTooltip =(node)=>{\n    console.log(`this is the tool tip hover function ${node}`);\n    return `<div>${node.name}</div>`\n  }\n\n\tconst getDataFromUrl = () => {\n    if(!url) return \n    axios.get(url).then((res)=>{\n      console.log('URL data', res.data);\n      const cool = processProductData(res.data);\n      console.log('COOLLLLLLLL', cool);\n      setData(cool);\n    })\n\t}\n  const handleChange = (e)=>{\n    setUrl(e.target.value)\n  }\n\n\tif(data === null) return <></>;\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<h2>Graphs with React</h2>\n\t\t\t<div className=\"btns\">\n        <input value={url} onChange={handleChange}></input>\n        <button onClick={getDataFromUrl}>Get Data</button>\n\t\t\t</div>\n\t\t\t<ForceLayout data={data} nodeHoverTooltip={nodeHoverTooltip}  />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}