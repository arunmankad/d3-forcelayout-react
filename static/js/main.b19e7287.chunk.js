(this["webpackJsonpd3-test"]=this["webpackJsonpd3-test"]||[]).push([[0],{3:function(t,e,n){t.exports={container:"forceGraph_container__2Fpro",product:"forceGraph_product__f1U8b",properties:"forceGraph_properties__1xT-0",node:"forceGraph_node__3azZm",tooltip:"forceGraph_tooltip__24MRW",contextMenu:"forceGraph_contextMenu__jf9Zf",menuEntry:"forceGraph_menuEntry__2lL43"}},38:function(t,e,n){t.exports=n(63)},43:function(t,e,n){},61:function(t,e,n){},63:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),o=n(25),c=n.n(o),i=(n(43),n(10)),u=n(26),l=n.n(u),s=(n(61),n(0)),p=(n(62),n(3)),d=n.n(p),f=function(t,e,n,a,r){!function(t,e,n,a,r){s.h(".".concat(d.a.contextMenu)).remove(),s.h(r).append("g").attr("class",d.a.contextMenu).selectAll("tmp").data(n).enter().append("g").attr("class",d.a.menuEntry).style({cursor:"pointer"}),console.log("styles.menuEntry - ".concat(d.a.menuEntry)),s.i(".".concat(d.a.menuEntry)).append("rect").attr("x",t).attr("y",(function(t,n){return e+30*n})).attr("rx",2).attr("width",150).attr("height",30).on("click",(function(t){t.action(a)})),s.i(".".concat(d.a.menuEntry)).append("text").text((function(t){return t.title})).attr("x",t).attr("y",(function(t,n){return e+30*n})).attr("dy",20).attr("dx",45).on("click",(function(t){t.action(a)})),s.h("body").on("click",(function(){s.h(".".concat(d.a.contextMenu)).remove()}))}(s.b.pageX-n/2,s.b.pageY-a/1.5,e,t,r),s.b.preventDefault()};var g=function(t){var e=t.data,n=t.nodeHoverTooltip,o=Object(a.useRef)();Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){c()}),[e]);var c=function(){s.i("svg").remove(),console.log("DRAW METHOD",e);var t=o.current.getBoundingClientRect(),a=t.height,r=t.width,c=e.links.map((function(t){return Object.assign({},t)})),i=e.nodes.map((function(t){return Object.assign({},t)}));console.log("DRAW METHOD LINKS",c),console.log("DRAW METHOD NODES",i);var u=[{title:"First action",action:function(t){console.log(t)}},{title:"Second action",action:function(t){console.log(t)}}];console.log("height - ",a);var l=function(t){return s.a().on("start",(function(e){s.b.active||t.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y})).on("drag",(function(t){t.fx=s.b.x,t.fy=s.b.y})).on("end",(function(e){s.b.active||t.alphaTarget(0),e.fx=null,e.fy=null}))};if(!document.querySelector("#graph-tooltip")){var p=document.createElement("div");p.classList.add(d.a.tooltip),p.style.opacity="0",p.id="graph-tooltip",document.body.appendChild(p)}var g=s.h("#graph-tooltip"),m=s.e(i).force("link",s.c(c).id((function(t){return t.id}))).force("charge",s.d().strength(-150)).force("x",s.f()).force("y",s.g()),h=s.h(o.current).append("svg").attr("id","graphSvg").attr("viewBox",[-r/2,-a/2,r,a]),y=h.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(c).join("line").attr("stroke-width",(function(t){return Math.sqrt(t.value)})),v=h.append("g").attr("stroke","#cccccc").attr("stroke-width",2).selectAll("circle").data(i).join("circle").on("contextmenu",(function(t){f(t,u,r,a,"#graphSvg")})).attr("r",15).attr("fill",(function(t){switch(t.type){case"product":return"#00AE7D";case"parameter":return"#ED8A3F";case"rule":return"#2ab7ca";default:return"#00C1D4"}return"#00C1D4"})).call(l(m)),x=h.append("g").attr("class","labels").selectAll("text").data(i).enter().append("text").on("contextmenu",(function(t){f(t,u,r,a,"#graphSvg")})).attr("text-anchor","middle").attr("dominant-baseline","central").attr("class",(function(t){return"fa ".concat(function(t){return"product"===t.type?d.a.product:d.a.properties}(t))})).text((function(t){return function(t){switch(t.type){case"product":return"\uf187";case"parameter":return"\uf013";case"rule":return"\uf121";default:return"\uf515"}}(t)})).call(l(m));x.on("mouseover",(function(t){console.log("pageX",s.b.pageX),console.log("pageY",s.b.pageY),function(t,e,n,a){console.log("X",n),console.log("Y",a),g.transition().duration(200).style("opacity",.9),g.html(t(e)).style("left","".concat(n,"px")).style("top","".concat(a-28,"px"))}(n,t,s.b.pageX,s.b.pageY)})).on("mouseout",(function(){g.transition().duration(200).style("opacity",0)})),m.on("tick",(function(){y.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),v.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})),x.attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y}))}))};return r.a.createElement("div",{className:"chart"},r.a.createElement("div",{ref:o,className:d.a.container}))},m=n(27);function h(t,e,n){var a={};return console.log("TYPE-EEEE",t.name),"parameter"===n?(a.id=e,a.name=t.name,a.type=n,a.rId=t.rId):"rule"===n&&(a.id=e,a.pvg=t.propValGroup,a.sc=t.selectionCondition,a.ic=t.internalCondition,a.name=t.action,a.type=n),a}function y(t,e){return{source:t,target:e.id}}var v={nodes:[{id:1,name:"Gen 2 Life",type:"product"},{id:2,name:"Betty",type:"parameter"},{id:3,name:"Cate",type:"parameter"},{id:4,name:"Dave",type:"parameter"},{id:5,name:"Ellen",type:"rule"},{id:6,name:"Fiona",type:"rule"},{id:7,name:"Garry",type:"rule"},{id:8,name:"Holly",type:"rule"},{id:9,name:"Iris",type:"rule"},{id:10,name:"Jane",type:"rule"}],links:[{source:1,target:2},{source:1,target:3},{source:1,target:4},{source:2,target:5},{source:2,target:6},{source:3,target:7},{source:3,target:8},{source:4,target:9},{source:4,target:10}]};var x=function(){var t=Object(a.useState)(null),e=Object(i.a)(t,2),n=e[0],o=e[1],c=Object(a.useState)(""),u=Object(i.a)(c,2),s=u[0],p=u[1],d=Object(a.useState)(300),f=Object(i.a)(d,2);return f[0],f[1],Object(a.useEffect)((function(){o(v)}),[]),null===n?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Graphs with React"),r.a.createElement("div",{className:"btns"},r.a.createElement("input",{value:s,onChange:function(t){p(t.target.value)}}),r.a.createElement("button",{onClick:function(){s&&l.a.get(s).then((function(t){console.log("URL data",t.data);var e=function(t){console.log("RAW DATA",t);var e=[],n=[],a={id:t.data.product.id,name:t.data.product.name,type:"product"};e.push(a);var r=function(t){return t.data.parameters}(t);for(var o in r){console.log("Njan enthu thettu cheythu ".concat(o));var c,i=h(r[o],o,"parameter"),u=y(t.data.product.id,i),l=Object(m.a)(i.rId);try{for(l.s();!(c=l.n()).done;){var s=c.value,p=h(t.data.rules[s],s,"rule");console.log("ruleNode",p);var d=y(i.id,p);e.push(p),n.push(d)}}catch(f){l.e(f)}finally{l.f()}e.push(i),n.push(u)}return console.log("parameters",r),{nodes:e,links:n}}(t.data);console.log("COOLLLLLLLL",e),o(e)}))}},"Get Data")),r.a.createElement(g,{data:n,nodeHoverTooltip:function(t){return console.log("this is the tool tip hover function ".concat(t)),"<div>".concat(t.name,"</div>")}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.b19e7287.chunk.js.map